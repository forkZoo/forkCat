#!/bin/bash
# Pre-push hook: Regenerate cat visualization and update README

echo "ðŸµ Regenerating cat visualization..."

# Generate SVG
python src/cli.py visualize 2>/dev/null

# Update README with image reference
python src/cli.py update-readme 2>/dev/null

# Stage the updated files
git add cat_data/cat.svg cat_evolution/ README.md 2>/dev/null

# Check if there are changes to commit
if git diff --cached --quiet; then
    echo "âœ… No visualization changes"
else
    echo "ðŸ“ Committing visualization updates..."
    git commit --amend --no-edit 2>/dev/null
fi

exit 0
